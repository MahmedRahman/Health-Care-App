# Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¯ÙˆÙŠØ© ÙˆØ§Ù„Ø¬Ø¯ÙˆÙ„Ø©

Ù†Ø¸Ø§Ù… Ø´Ø§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¯ÙˆÙŠØ© ÙˆØ¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙÙŠ ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„ØµØ­ÙŠØ©.

## Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ØªØ¶Ù…Ù†Ø©

### 1. `medication_service.dart`
Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¯ÙˆÙŠØ© ÙˆØ§Ù„Ø¬Ø¯ÙˆÙ„Ø©.

### 2. `medication_schedule_controller.dart`
Controller Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ù…Ù†Ø·Ù‚ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„.

### 3. `medication_schedule_view.dart`
ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø©.

## Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª

### âœ… **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¯ÙˆÙŠØ©**
- ØªØ­Ù„ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¯ÙˆÙŠØ© Ù…Ù† API
- Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙˆÙ„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ù„Ø¬Ø±Ø¹Ø§Øª
- ØªØµÙ†ÙŠÙ Ø§Ù„Ø¬Ø±Ø¹Ø§Øª (Ø§Ù„ÙŠÙˆÙ…ØŒ Ù…ÙÙ‚ÙˆØ¯Ø©ØŒ Ù‚Ø§Ø¯Ù…Ø©)

### âœ… **Ø¬Ø¯ÙˆÙ„Ø© Ø°ÙƒÙŠØ©**
- Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù‚Ø¨Ù„ 15 Ø¯Ù‚ÙŠÙ‚Ø© Ù…Ù† Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø¬Ø±Ø¹Ø©
- Ø¯Ø¹Ù… Ø§Ù„Ø¬Ø±Ø¹Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø© ÙÙŠ Ø§Ù„ÙŠÙˆÙ…
- ØªØªØ¨Ø¹ Ø§Ù„Ø¬Ø±Ø¹Ø§Øª Ø§Ù„Ù…ÙÙ‚ÙˆØ¯Ø©

### âœ… **ÙˆØ§Ø¬Ù‡Ø© Ù…Ø³ØªØ®Ø¯Ù… Ù…ØªÙ‚Ø¯Ù…Ø©**
- Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© ÙÙŠ ØªØ¨ÙˆÙŠØ¨Ø§Øª Ù…Ù†ÙØµÙ„Ø©
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø©
- Ø£Ø²Ø±Ø§Ø± ØªÙØ§Ø¹Ù„ÙŠØ© (ØªÙ†Ø§ÙˆÙ„ØŒ ØªØ£Ø¬ÙŠÙ„)

### âœ… **Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø°ÙƒÙŠØ©**
- Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…Ø®ØµØµØ© Ù„ÙƒÙ„ Ø¯ÙˆØ§Ø¡
- Ø£Ø²Ø±Ø§Ø± ØªÙØ§Ø¹Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
- Ø¯Ø¹Ù… Ø§Ù„ØªØ£Ø¬ÙŠÙ„ ÙˆØ§Ù„ØºÙÙˆØ©

## ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### 1. Ø¥Ø¶Ø§ÙØ© Controller Ø¥Ù„Ù‰ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚

```dart
// ÙÙŠ main.dart Ø£Ùˆ ÙÙŠ routes
Get.put(MedicationScheduleController());
```

### 2. Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù€ View

```dart
// ÙÙŠ routes
GetPage(
  name: '/medication-schedule',
  page: () => const MedicationScheduleView(),
  binding: BindingsBuilder(() {
    Get.lazyPut<MedicationScheduleController>(() => MedicationScheduleController());
  }),
),
```

### 3. Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù€ Service Ù…Ø¨Ø§Ø´Ø±Ø©

```dart
final medicationService = MedicationService();

// ØªØ­ÙˆÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¯ÙˆÙŠØ© Ø¥Ù„Ù‰ Ø¬Ø¯ÙˆÙ„Ø©
final schedule = await medicationService.createMedicationSchedule(medications);

// Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
await medicationService.scheduleMedicationNotifications(medications);

// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„ÙŠÙˆÙ…
final todaySchedule = await medicationService.getTodaySchedule(medications);
```

## Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### Medication
```dart
class Medication {
  final int id;
  final String medicineName;
  final String medicineImage;
  final int dose;
  final String doseForm;
  final String doseRoute;
  final String doseFrequency;
  final int doseDuration;
  final String doseDurationList;
  final List<DoseTime> doseTimeList;
  final String specialInstructions;
  final String description;
  final String doctorName;
  final String startFrom;
  final String renewalDate;
  final int leftDosesCount;
  final int leftDosesDaysCouns;
  final double countOfDose;
  final double totalDoses;
  final int totalDuration;
  final String doseCompliance;
}
```

### MedicationSchedule
```dart
class MedicationSchedule {
  final int medicationId;
  final String medicationName;
  final String dose;
  final String doseForm;
  final String doseRoute;
  final DateTime scheduledTime;
  final String status; // 'upcoming', 'missed', 'taken'
  final String specialInstructions;
  final String doctorName;
  final bool isToday;
  final bool isPast;
}
```

## API Integration

### ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ù…Ù† API

```json
{
  "data": [
    {
      "id": 70,
      "medicineName": "PANADOLE",
      "medicineImage": "",
      "dose": 2,
      "doseForm": "Tablet",
      "doseRoute": "Oral",
      "doseFrequency": "daily",
      "doseDuration": 1,
      "doseDurationList": "months",
      "doseTimeList": [
        {
          "id": 39,
          "doseTime": "12:00 AM"
        },
        {
          "id": 40,
          "doseTime": "12:00 PM"
        }
      ],
      "specialInstructions": "Special",
      "description": "Description",
      "doctorName": "Doctor",
      "startFrom": "08/10/2025",
      "renewalDate": "08/11/2025",
      "leftDosesCount": 60,
      "leftDosesDaysCouns": 30,
      "countOfDose": 0.0,
      "totalDoses": 60.0,
      "totalDuration": 30,
      "doseCompliance": "0 %"
    }
  ]
}
```

## Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ØªØ§Ø­Ø©

### MedicationService
- `createMedicationSchedule()` - Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙˆÙ„Ø© Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø¯ÙˆÙŠØ©
- `scheduleMedicationNotifications()` - Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
- `getTodaySchedule()` - Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„ÙŠÙˆÙ…
- `getMissedDoses()` - Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ø±Ø¹Ø§Øª Ø§Ù„Ù…ÙÙ‚ÙˆØ¯Ø©
- `getUpcomingDoses()` - Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ø±Ø¹Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©
- `markDoseAsTaken()` - ØªØ³Ø¬ÙŠÙ„ ØªÙ†Ø§ÙˆÙ„ Ø§Ù„Ø¬Ø±Ø¹Ø©
- `cancelMedicationSchedule()` - Ø¥Ù„ØºØ§Ø¡ Ø¬Ø¯ÙˆÙ„Ø© Ø¯ÙˆØ§Ø¡

### MedicationScheduleController
- `loadMedications()` - ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø¯ÙˆÙŠØ© Ù…Ù† API
- `markDoseAsTaken()` - ØªØ³Ø¬ÙŠÙ„ ØªÙ†Ø§ÙˆÙ„ Ø§Ù„Ø¬Ø±Ø¹Ø©
- `snoozeDose()` - ØªØ£Ø¬ÙŠÙ„ Ø§Ù„Ø¬Ø±Ø¹Ø©
- `cancelMedication()` - Ø¥Ù„ØºØ§Ø¡ Ø¯ÙˆØ§Ø¡
- `cancelAllMedications()` - Ø¥Ù„ØºØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¯ÙˆÙŠØ©
- `refreshSchedule()` - ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø©

## Ø§Ù„ØªØ®ØµÙŠØµ

### ØªØ®ØµÙŠØµ Ø§Ù„Ø£Ù„ÙˆØ§Ù†
```dart
// ÙÙŠ medication_schedule_view.dart
Color cardColor = Colors.white;
Color borderColor = Colors.grey[300]!;

if (isMissed || isPast) {
  cardColor = Colors.red[50]!;
  borderColor = Colors.red[300]!;
}
```

### ØªØ®ØµÙŠØµ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
```dart
// ÙÙŠ medication_service.dart
await _scheduler.scheduleMedicationReminder(
  id: id,
  medicationName: medicationName,
  dosage: dosage,
  scheduledTime: scheduledTime,
  instructions: instructions,
  payload: payload,
);
```

## Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª

- Flutter 3.0+
- GetX
- awesome_notifications
- API endpoint Ù„Ù„Ù€ getMedicines

## Ø§Ù„ØªØ«Ø¨ÙŠØª

1. Ø§Ù†Ø³Ø® Ø§Ù„Ù…Ù„ÙØ§Øª Ø¥Ù„Ù‰ Ù…Ø¬Ù„Ø¯ `lib/app/`
2. Ø£Ø¶Ù Ø§Ù„Ù€ routes Ø¥Ù„Ù‰ `app_pages.dart`
3. Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù€ Controller ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
4. ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ API endpoint Ù„Ù„Ù€ getMedicines

## Ù…Ø«Ø§Ù„ ÙƒØ§Ù…Ù„

```dart
// ÙÙŠ routes
GetPage(
  name: '/medication-schedule',
  page: () => const MedicationScheduleView(),
  binding: BindingsBuilder(() {
    Get.lazyPut<MedicationScheduleController>(() => MedicationScheduleController());
  }),
),

// ÙÙŠ main.dart
Get.put(MedicationScheduleController());

// Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¨Ø§Ø´Ø±
final controller = Get.find<MedicationScheduleController>();
await controller.loadMedications();
```

Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠÙˆÙØ± Ø­Ù„ÙˆÙ„Ø§Ù‹ Ø´Ø§Ù…Ù„Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¯ÙˆÙŠØ© ÙˆØ¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙÙŠ ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„ØµØ­ÙŠØ©! ğŸ¥ğŸ’Š
